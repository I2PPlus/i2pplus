function initButtons(){var buttonsMap={delete1:setupDeleteClickHandler,markall:setupToggleSelectionHandler(!0),clearselection:setupToggleSelectionHandler(!1),tdclick:addDirectClickHandler};for(const[className,handler]of Object.entries(buttonsMap)){var buttons=document.getElementsByClassName(className);Array.from(buttons).forEach(button=>handler(button,button.form))}deleteboxclicked(document.forms[0])}function setupDeleteClickHandler(elem,form){elem.addEventListener("click",()=>{var checkboxes=form.querySelectorAll(".optbox.delete1:not(.inactive)"),checkboxes=Array.from(checkboxes).some(checkbox=>{var row=checkbox.closest("tr");return!row||"none"!==row.style.display&&checkbox.checked});form.delete.disabled=!checkboxes})}function setupToggleSelectionHandler(selectAll){return function(elem,form){elem.addEventListener("click",function(event){var checkboxes=form.querySelectorAll(".optbox.delete1:not(.inactive)"),hasOne=(Array.from(checkboxes).forEach(checkbox=>{var row=checkbox.closest("tr");row&&"none"===row.style.display||(checkbox.checked=selectAll)}),Array.from(checkboxes).some(checkbox=>{var row=checkbox.closest("tr");return!row||"none"!==row.style.display&&checkbox.checked})),checkboxes=Array.from(checkboxes).every(checkbox=>{var row=checkbox.closest("tr");return!row||"none"!==row.style.display&&checkbox.checked});form.delete&&(form.delete.disabled=!hasOne,form.markall.disabled=checkboxes,form.clearselection.disabled=!hasOne,event.preventDefault())})}}function addDirectClickHandler(elem){const url=elem.dataset.url;elem.addEventListener("click",function(){document.location=url})}function deleteboxclicked(form){var checkboxes=form.querySelectorAll(".optbox.delete1:not(.inactive)"),hasOne=Array.from(checkboxes).some(checkbox=>checkbox.checked),checkboxes=Array.from(checkboxes).every(checkbox=>checkbox.checked);form.delete&&(form.delete.disabled=!hasOne,form.markall.disabled=checkboxes,form.clearselection.disabled=!hasOne)}document.addEventListener("DOMContentLoaded",()=>{initButtons()});