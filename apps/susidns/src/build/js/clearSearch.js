document.addEventListener("DOMContentLoaded",function(){const searchInput=document.querySelector("#searchInput input[type=text]"),clearSearch=document.getElementById("clearSearch");function handleClear(){var inputValue=searchInput.value.trim(),activeBook=new URL(window.location.href).searchParams.get("book")||"router";let noFilterURL=`addressbook?book=${activeBook}&filter=none`;document.documentElement.classList.contains("iframed")&&(noFilterURL=`/dns?book=${activeBook}&filter=none`),clearSearch.href=inputValue?noFilterURL:"",clearSearch.style.display=inputValue?"inline":"none"}clearSearch.addEventListener("click",function(event){searchInput.value="",window.top!==window.self?window.top.location.href=this.href:window.location.href=this.href}),searchInput.addEventListener("input",handleClear),handleClear();var styles=document.createElement("style");styles.innerHTML=`
    #clearSearch{width:12px;height:12px;position:absolute;top:3px;right:56px;background:var(--no) no-repeat right center/12px;animation:fade-in .6s ease 1s both}
    #clearSearch:active{transform:scale(0.8)}
    #searchInput{position:relative}
    #booksearch input[name="search"],#booksearch input[name="search"]:focus {padding-right:30px}
  `,document.head.appendChild(styles)});