import{refreshElements}from"./refreshElements.js";const bodyTag=document.querySelector("body"),container=document.querySelector("#tunnelsContainer"),nav=document.querySelector(".confignav"),tables=document.querySelectorAll("#tunnels table"),toggleIds=document.getElementById("toggleTunnelIds"),toggleTunnels=document.getElementById("toggleTunnels"),tunnelIdsHidden=document.querySelector(".idsHidden"),tunnelsHidden=document.querySelector(".tunnelsHidden"),isAdvancedMode=document.documentElement.classList.contains("advmode");let tunnelTableVisibility=localStorage.getItem("tunnelTableVisibility"),tunnelIdVisibility=localStorage.getItem("tunnelIdVisibility");function persistTunnelTableVisibility(){tunnelTableVisibility?tunnelsHidden||(bodyTag.classList.add("tunnelsHidden"),toggleTunnels.classList.contains("off"))||toggleTunnels.classList.add("off"):(bodyTag.classList.remove("tunnelsHidden"),toggleTunnels.classList.contains("off")&&toggleTunnels.classList.remove("off"),localStorage.removeItem("tunnelTableVisibility"))}function persistTunnelIdVisibility(){isAdvancedMode&&(tunnelIdVisibility?tunnelIdsHidden||(document.querySelector("body").classList.add("idsHidden"),toggleIds.classList.contains("off"))||toggleIds.classList.add("off"):(document.querySelector("body").classList.remove("idsHidden"),toggleIds.classList.contains("off")&&toggleIds.classList.remove("off"),localStorage.removeItem("tunnelIdVisibility")))}nav.addEventListener("click",function(event){"toggleTunnels"===event.target.id&&(document.querySelector("body").classList.contains("tunnelsHidden")?(bodyTag.classList.remove("tunnelsHidden"),toggleTunnels.classList.contains("off")&&toggleTunnels.classList.remove("off"),localStorage.removeItem("tunnelTableVisibility")):(bodyTag.classList.add("tunnelsHidden"),toggleTunnels.classList.contains("off")||toggleTunnels.classList.add("off"),localStorage.setItem("tunnelTableVisibility","hidden"))),isAdvancedMode?"toggleTunnelIds"===event.target.id&&(document.querySelector("body").classList.contains("idsHidden")?(bodyTag.classList.remove("idsHidden"),toggleIds.classList.contains("off")&&toggleIds.classList.remove("off"),localStorage.removeItem("tunnelIdVisibility")):(bodyTag.classList.add("idsHidden"),toggleIds.classList.contains("off")||toggleIds.classList.add("off"),localStorage.setItem("tunnelIdVisibility","hidden"))):toggleIds.remove()}),document.addEventListener("DOMContentLoaded",function(){persistTunnelTableVisibility(),persistTunnelIdVisibility(),bodyTag.classList.add("js"),refreshElements("#tunnelsContainer","/tunnels",1e4)});