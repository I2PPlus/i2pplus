function refreshOnClick(triggerSelectors,updateSelectors,interval=500,maxAttempts=4){const updateElements=updateSelectors.split(", ").map(s=>{var el=document.querySelector(s.trim());return el?{el:el,sel:s}:null}).filter(Boolean),triggers=triggerSelectors.split(", ").map(s=>s.trim());if(updateElements.length&&triggers.length){const doRefresh=async()=>{try{var text=await(await fetch(window.location.href)).text();const doc=(new DOMParser).parseFromString(text,"text/html");updateElements.forEach(({el,sel})=>{(sel=doc.querySelector(sel))&&(el.innerHTML=sel.innerHTML)})}catch(e){progressx.hide()}};document.documentElement.addEventListener("click",e=>{const target=e.target;if(triggers.some(sel=>target.matches(sel))){let attempts=0;target.style.pointerEvents="none",target.style.opacity=".5";const timer=setInterval(()=>{attempts>=maxAttempts?(clearInterval(timer),target.style.pointerEvents="",target.style.opacity="",progressx.hide()):(0===attempts&&progressx.show(theme),doRefresh(),attempts++)},interval);doRefresh()}})}}