!function(global){"use strict";function parseHex(hash,startPosition,octets){return parseInt(hash.substr(startPosition,octets),16)}function decToHex(v){return(v|=0)<0?"00":v<16?"0"+v.toString(16):v<256?v.toString(16):"ff"}function hueToRgb(m1,m2,h){return decToHex(255*((h=h<0?h+6:6<h?h-6:h)<1?m1+(m2-m1)*h:h<3?m2:h<4?m1+(m2-m1)*(4-h):m1))}function toCss3Color(hexColor){var a=parseHex(hexColor,7,2);return isNaN(a)?hexColor:"rgba("+parseHex(hexColor,1,2)+","+parseHex(hexColor,3,2)+","+parseHex(hexColor,5,2)+","+(a/255).toFixed(2)+")"}function correctedHsl(hue,saturation,lightness){var corrector=[.55,.5,.5,.46,.6,.55,.55][6*hue+.5|0];return function(hue,saturation,lightness){var partialHex;return"#"+(0==saturation?(partialHex=decToHex(255*lightness))+partialHex+partialHex:hueToRgb(lightness=2*lightness-(partialHex=lightness<=.5?lightness*(saturation+1):lightness+saturation-lightness*saturation),partialHex,6*hue+2)+hueToRgb(lightness,partialHex,6*hue)+hueToRgb(lightness,partialHex,6*hue-2))}(hue,saturation,lightness=lightness<.5?lightness*corrector*2:corrector+(lightness-.5)*(1-corrector)*2)}var CONFIG_PROPERTIES={G:"jdenticon_config",n:"config"},rootConfigurationHolder={},ICON_TYPE_SVG=1,ICON_TYPE_CANVAS=2,ATTRIBUTES={t:"data-jdenticon-hash",o:"data-jdenticon-value"},IS_RENDERED_PROPERTY="jdenticonRendered",ICON_SELECTOR="["+ATTRIBUTES.t+"],["+ATTRIBUTES.o+"]";function getIdenticonType(el){var tagName;if(el)return tagName=el.tagName,/^svg$/i.test(tagName)?ICON_TYPE_SVG:/^canvas$/i.test(tagName)&&"getContext"in el?ICON_TYPE_CANVAS:void 0}function Point(x,y){this.x=x,this.y=y}function Transform(x,y,size,rotation){this.u=x,this.v=y,this.K=size,this.Z=rotation}Transform.prototype.L=function(x,y,w,h){var right=this.u+this.K,bottom=this.v+this.K,rotation=this.Z;return 1===rotation?new Point(right-y-(h||0),this.v+x):2===rotation?new Point(right-x-(w||0),bottom-y-(h||0)):3===rotation?new Point(this.u+y,bottom-x-(w||0)):new Point(this.u+x,this.v+y)};var NO_TRANSFORM=new Transform(0,0,0,0);function Graphics(renderer){this.M=renderer,this.A=NO_TRANSFORM}function centerShape(index,g,cell,positionIndex){var m,w,inner,outer;(index%=14)?1==index?g.j(cell-(w=0|.5*cell),0,w,0|.8*cell,2):2==index?g.i(w=0|cell/3,w,cell-w,cell-w):3==index?g.i(outer=cell<6?1:cell<8?2:0|.25*cell,outer,cell-(inner=1<(inner=.1*cell)?0|inner:.5<inner?1:inner)-outer,cell-inner-outer):4==index?g.h(cell-(w=0|.5*cell)-(m=0|.15*cell),cell-w-m,w):5==index?(3<(outer=4*(inner=.1*cell))&&(outer|=0),g.i(0,0,cell,cell),g.g([outer,outer,cell-inner,outer,outer+(cell-outer-inner)/2,cell-inner],!0)):6==index?g.g([0,0,cell,0,cell,.7*cell,.4*cell,.4*cell,.7*cell,cell,0,cell]):7==index?g.j(cell/2,cell/2,cell/2,cell/2,3):8==index?(g.i(0,0,cell,cell/2),g.i(0,cell/2,cell/2,cell/2),g.j(cell/2,cell/2,cell/2,cell/2,1)):9==index?(inner=.14*cell,outer=cell<4?1:cell<6?2:0|.35*cell,inner=cell<8?inner:0|inner,g.i(0,0,cell,cell),g.i(outer,outer,cell-outer-inner,cell-outer-inner,!0)):10==index?(outer=3*(inner=.12*cell),g.i(0,0,cell,cell),g.h(outer,outer,cell-inner-outer,!0)):11==index?g.j(cell/2,cell/2,cell/2,cell/2,3):12==index?(m=.25*cell,g.i(0,0,cell,cell),g.N(m,m,cell-m,cell-m,!0)):positionIndex||g.h(m=.4*cell,m,w=1.2*cell):g.g([0,0,cell,0,cell,cell-2*(inner=.42*cell),cell-inner,cell,0,cell])}function outerShape(index,g,cell){(index%=4)?1==index?g.j(0,cell/2,cell,cell/2,0):2==index?g.N(0,0,cell,cell):g.h(index=cell/6,index,cell-2*index):g.j(0,0,cell,cell,0)}function iconGenerator(renderer,hash,config){var config=function(paddingOrLocalConfig){var configObject="object"==typeof paddingOrLocalConfig&&paddingOrLocalConfig||rootConfigurationHolder[CONFIG_PROPERTIES.n]||{},lightnessConfig=configObject.lightness||{},colorSaturation="color"in(saturation=configObject.saturation||{})?saturation.color:saturation,saturation=saturation.grayscale,backColor=configObject.backColor,padding=configObject.padding;function lightness(configName,defaultRange){var range=lightnessConfig[configName];return range&&1<range.length||(range=defaultRange),function(value){return(value=range[0]+value*(range[1]-range[0]))<0?0:1<value?1:value}}return{X:function(originalHue){var hue,hueConfig=configObject.hues;return"number"==typeof(hue=hueConfig&&0<hueConfig.length?hueConfig[0|.999*originalHue*hueConfig.length]:hue)?(hue/360%1+1)%1:originalHue},p:"number"==typeof colorSaturation?colorSaturation:.5,H:"number"==typeof saturation?saturation:0,q:lightness("color",[.4,.8]),I:lightness("grayscale",[.3,.9]),J:function(color){var colorLength,r;if(/^#[0-9a-f]{3,8}$/i.test(color))return(colorLength=color.length)<6&&(r="#"+(r=color[1])+r+(r=color[2])+r+(r=color[3])+r+(r=color[4]||"")+r),7==colorLength||8<colorLength?color:r}(backColor),Y:"number"==typeof paddingOrLocalConfig?paddingOrLocalConfig:"number"==typeof padding?padding:.08}}(config),size=renderer.k,padding=.5+size*config.Y|0,graphics=(size-=2*padding,new Graphics(renderer)),cell=0|size/4,x=0|padding+size/2-2*cell,y=0|padding+size/2-2*cell;function renderShape(colorIndex,shapes,index,rotationIndex,positions){var shapeIndex=parseHex(hash,index,1),r=rotationIndex?parseHex(hash,rotationIndex,1):0;renderer.O(availableColors[selectedColorIndexes[colorIndex]]);for(var i=0;i<positions.length;i++)graphics.A=new Transform(x+positions[i][0]*cell,y+positions[i][1]*cell,cell,r++%4),shapes(shapeIndex,graphics,cell,i);renderer.P()}for(var index,availableColors=function(hue,config){return[correctedHsl(hue=config.X(hue),config.H,config.I(0)),correctedHsl(hue,config.p,config.q(.5)),correctedHsl(hue,config.H,config.I(1)),correctedHsl(hue,config.p,config.q(1)),correctedHsl(hue,config.p,config.q(0))]}(parseHex(hash,-7)/268435455,config),selectedColorIndexes=[],i=0;i<3;i++)index=parseHex(hash,8+i,1)%availableColors.length,(isDuplicate([0,4])||isDuplicate([2,3]))&&(index=1),selectedColorIndexes.push(index);function isDuplicate(values){if(0<=values.indexOf(index))for(var i=0;i<values.length;i++)if(0<=selectedColorIndexes.indexOf(values[i]))return 1}renderShape(0,outerShape,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),renderShape(1,outerShape,4,5,[[0,0],[3,0],[3,3],[0,3]]),renderShape(2,centerShape,1,null,[[1,1],[2,1],[2,2],[1,2]]),renderer.finish()}function isValidHash(hashCandidate){return/^[0-9a-f]{11,}$/i.test(hashCandidate)&&hashCandidate}function computeHash(value){var dataSize,message=null==value?"":""+value,i=0,f=0,data=[],hashBuffer=[],a=1732584193,b=4023233417,c=~a,d=~b,e=3285377520,hash=[a,b,c,d,e],blockStartIndex=0,hexHash="";function rotl(value,shift){return value<<shift|value>>>32-shift}for(;i<message.length;f++)data[f>>2]=data[f>>2]|("%"==message[i]?parseInt(message.substring(i+1,i+=3),16):message.charCodeAt(i++))<<8*(3-(3&f));for(data[(dataSize=16*(1+(f+7>>6)))-1]=8*f-8;blockStartIndex<dataSize;blockStartIndex+=16){for(i=0;i<80;i++)f=rotl(a,5)+e+(i<20?1518500249+(b&c^~b&d):i<40?1859775393+(b^c^d):i<60?2400959708+(b&c^b&d^c&d):3395469782+(b^c^d))+(hashBuffer[i]=i<16?0|data[blockStartIndex+i]:rotl(hashBuffer[i-3]^hashBuffer[i-8]^hashBuffer[i-14]^hashBuffer[i-16],1)),e=d,d=c,c=rotl(b,30),b=a,a=f;hash[0]=a=hash[0]+a|0,hash[1]=b=hash[1]+b|0,hash[2]=c=hash[2]+c|0,hash[3]=d=hash[3]+d|0,hash[4]=e=hash[4]+e|0}for(i=0;i<40;i++)hexHash+=(hash[i>>3]>>>4*(7-(7&i))&15).toString(16);return hexHash}function CanvasRenderer(ctx,iconSize){var width=(canvas=ctx.canvas).width,canvas=canvas.height;ctx.save(),iconSize||(iconSize=Math.min(width,canvas),ctx.translate((width-iconSize)/2|0,(canvas-iconSize)/2|0)),this.l=ctx,this.k=iconSize,ctx.clearRect(0,0,iconSize,iconSize)}function svgValue(value){return(10*value+.5|0)/10}function SvgPath(){this.B=""}function SvgRenderer(target){this.C,this.D={},this.R=target,this.k=target.k}Graphics.prototype.g=function(points,invert){for(var di=invert?-2:2,transformedPoints=[],i=invert?points.length-2:0;i<points.length&&0<=i;i+=di)transformedPoints.push(this.A.L(points[i],points[i+1]));this.M.g(transformedPoints)},Graphics.prototype.h=function(x,y,size,invert){x=this.A.L(x,y,size,size),this.M.h(x,size,invert)},Graphics.prototype.i=function(x,y,w,h,invert){this.g([x,y,x+w,y,x+w,y+h,x,y+h],invert)},Graphics.prototype.j=function(x,y,w,h,r,invert){(w=[x+w,y,x+w,y+h,x,y+h,x,y]).splice((r||0)%4*2,2),this.g(w,invert)},Graphics.prototype.N=function(x,y,w,h,invert){this.g([x+w/2,y,x+w,y+h/2,x+w/2,y+h,x,y+h/2],invert)},CanvasRenderer.prototype.m=function(fillColor){var ctx=this.l,iconSize=this.k;ctx.fillStyle=toCss3Color(fillColor),ctx.fillRect(0,0,iconSize,iconSize)},CanvasRenderer.prototype.O=function(fillColor){var ctx=this.l;ctx.fillStyle=toCss3Color(fillColor),ctx.beginPath()},CanvasRenderer.prototype.P=function(){this.l.fill()},CanvasRenderer.prototype.g=function(points){var ctx=this.l;ctx.moveTo(points[0].x,points[0].y);for(var i=1;i<points.length;i++)ctx.lineTo(points[i].x,points[i].y);ctx.closePath()},CanvasRenderer.prototype.h=function(point,diameter,counterClockwise){var ctx=this.l,diameter=diameter/2;ctx.moveTo(point.x+diameter,point.y+diameter),ctx.arc(point.x+diameter,point.y+diameter,diameter,0,2*Math.PI,counterClockwise),ctx.closePath()},CanvasRenderer.prototype.finish=function(){this.l.restore()},SvgPath.prototype.g=function(points){for(var dataString="",i=0;i<points.length;i++)dataString+=(i?"L":"M")+svgValue(points[i].x)+" "+svgValue(points[i].y);this.B+=dataString+"Z"},SvgPath.prototype.h=function(point,diameter,counterClockwise){var svgRadius=svgValue(diameter/2),svgDiameter=svgValue(diameter);this.B+="M"+svgValue(point.x)+" "+svgValue(point.y+diameter/2)+(svgRadius="a"+svgRadius+","+svgRadius+" 0 1,"+(counterClockwise?0:1)+" ")+svgDiameter+",0"+svgRadius+-svgDiameter+",0"},SvgRenderer.prototype.m=function(fillColor){var opacity=(fillColor=/^(#......)(..)?/.exec(fillColor))[2]?parseHex(fillColor[2],0)/255:1;this.R.m(fillColor[1],opacity)},SvgRenderer.prototype.O=function(color){this.C=this.D[color]||(this.D[color]=new SvgPath)},SvgRenderer.prototype.P=function(){},SvgRenderer.prototype.g=function(points){this.C.g(points)},SvgRenderer.prototype.h=function(point,diameter,counterClockwise){this.C.h(point,diameter,counterClockwise)},SvgRenderer.prototype.finish=function(){var color,pathsByColor=this.D;for(color in pathsByColor)pathsByColor.hasOwnProperty(color)&&this.R.S(color,pathsByColor[color].B)};var callback,SVG_CONSTANTS={T:"http://www.w3.org/2000/svg",U:"width",V:"height"};function SvgWriter(iconSize){this.k=iconSize,this.F='<svg xmlns="'+SVG_CONSTANTS.T+'" width="'+iconSize+'" height="'+iconSize+'" viewBox="0 0 '+iconSize+" "+iconSize+'">'}function SvgElement_append(parentNode,name){for(var keyValuePairs=[],len=arguments.length-2;0<len--;)keyValuePairs[len]=arguments[len+2];for(var el=document.createElementNS(SVG_CONSTANTS.T,name),i=0;i+1<keyValuePairs.length;i+=2)el.setAttribute(keyValuePairs[i],keyValuePairs[i+1]);parentNode.appendChild(el)}function SvgElement(element){var iconSize=this.k=Math.min(Number(element.getAttribute(SVG_CONSTANTS.U))||100,Number(element.getAttribute(SVG_CONSTANTS.V))||100);for(this.W=element;element.firstChild;)element.removeChild(element.firstChild);element.setAttribute("viewBox","0 0 "+iconSize+" "+iconSize),element.setAttribute("preserveAspectRatio","xMidYMid meet")}function update(el,hashOrValue,config){!function renderDomElement(el,hashOrValue,config,rendererFactory){if("string"==typeof el)for(var elements=document.querySelectorAll(el),i=0;i<elements.length;i++)renderDomElement(elements[i],hashOrValue,config,rendererFactory);else{var renderer,hash=isValidHash(hashOrValue)||null!=hashOrValue&&computeHash(hashOrValue)||isValidHash(el.getAttribute(ATTRIBUTES.t))||el.hasAttribute(ATTRIBUTES.o)&&computeHash(el.getAttribute(ATTRIBUTES.o));hash&&(renderer=rendererFactory(el,getIdenticonType(el)))&&(iconGenerator(renderer,hash,config),el[IS_RENDERED_PROPERTY]=!0)}}(el,hashOrValue,config,function(el,iconType){if(iconType)return iconType==ICON_TYPE_SVG?new SvgRenderer(new SvgElement(el)):new CanvasRenderer(el.getContext("2d"))})}function jdenticon(){document.querySelectorAll&&update(ICON_SELECTOR)}SvgWriter.prototype.m=function(fillColor,opacity){opacity&&(this.F+='<rect width="100%" height="100%" fill="'+fillColor+'" opacity="'+opacity.toFixed(2)+'"/>')},SvgWriter.prototype.S=function(color,dataString){this.F+='<path fill="'+color+'" d="'+dataString+'"/>'},SvgWriter.prototype.toString=function(){return this.F+"</svg>"},SvgElement.prototype.m=function(fillColor,opacity){opacity&&SvgElement_append(this.W,"rect",SVG_CONSTANTS.U,"100%",SVG_CONSTANTS.V,"100%","fill",fillColor,"opacity",opacity)},SvgElement.prototype.S=function(color,dataString){SvgElement_append(this.W,"path","fill",color,"d",dataString)},(rootConfigurationHolder=jdenticon).configure=function(newConfiguration){return arguments.length&&(rootConfigurationHolder[CONFIG_PROPERTIES.n]=newConfiguration),rootConfigurationHolder[CONFIG_PROPERTIES.n]},jdenticon.drawIcon=function(ctx,hashOrValue,size,config){if(!ctx)throw new Error("No canvas specified.");iconGenerator(new CanvasRenderer(ctx,size),isValidHash(hashOrValue)||computeHash(hashOrValue),config),(size=ctx.canvas)&&(size[IS_RENDERED_PROPERTY]=!0)},jdenticon.toSvg=function(hashOrValue,size,config){return iconGenerator(new SvgRenderer(size=new SvgWriter(size)),isValidHash(hashOrValue)||computeHash(hashOrValue),config),size.toString()},jdenticon.update=update,jdenticon.updateCanvas=update,jdenticon.updateSvg=update,jdenticon.version="3.3.0",jdenticon.bundle="browser-umd",callback=function(){var updateCallback,replaceMode=(jdenticon[CONFIG_PROPERTIES.n]||global[CONFIG_PROPERTIES.G]||{}).replaceMode;if("never"!=replaceMode){for(var elements=document.querySelectorAll(ICON_SELECTOR),i=0;i<elements.length;i++){var el=elements[i];el[IS_RENDERED_PROPERTY]||update(el)}"observe"==replaceMode&&(updateCallback=update,"undefined"!=typeof MutationObserver)&&new MutationObserver(function(mutations){for(var mutationIndex=0;mutationIndex<mutations.length;mutationIndex++){for(var mutation=mutations[mutationIndex],addedNodes=mutation.addedNodes,addedNodeIndex=0;addedNodes&&addedNodeIndex<addedNodes.length;addedNodeIndex++){var addedNode=addedNodes[addedNodeIndex];if(1==addedNode.nodeType)if(getIdenticonType(addedNode))updateCallback(addedNode);else for(var icons=addedNode.querySelectorAll(ICON_SELECTOR),iconIndex=0;iconIndex<icons.length;iconIndex++)updateCallback(icons[iconIndex])}"attributes"==mutation.type&&getIdenticonType(mutation.target)&&updateCallback(mutation.target)}}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:[ATTRIBUTES.o,ATTRIBUTES.t,"width","height"],subtree:!0})}},"undefined"!=typeof document&&"undefined"!=typeof window&&("loading"===document.readyState?(document.addEventListener("DOMContentLoaded",callback),window.addEventListener("load",callback)):callback())}("undefined"!=typeof self?self:this);