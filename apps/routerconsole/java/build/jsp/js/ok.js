const modal=(msg,buttonText="OK")=>new Promise(resolve=>{var fragment=document.createDocumentFragment(),modal=document.createElement("div"),modalText=document.createElement("p"),ok=document.createElement("button"),overlay=document.createElement("div");modal.id="modal",modalText.innerHTML=msg,modal.appendChild(modalText),ok.textContent=buttonText,ok.id="ok",modal.appendChild(ok),overlay.id="overlay",fragment.appendChild(overlay),fragment.appendChild(modal),document.body.appendChild(fragment);const modalDialog=document.getElementById("modal"),overlayLayer=document.getElementById("overlay"),okButton=modalDialog.querySelector("#ok"),centerModal=()=>{var rect=modalDialog.getBoundingClientRect(),windowHeight=window.innerHeight,windowWidth=window.innerWidth,windowHeight=Math.max(10,(windowHeight-rect.height)/2-.05*windowHeight);modalDialog.style.top=windowHeight+"px",modalDialog.style.left=(windowWidth-rect.width)/2+"px",okButton.focus(),document.body.classList.add("modalActive")},handleEnterKey=(centerModal(),window.addEventListener("resize",centerModal,{passive:!0}),event=>{event.target===okButton&&"Enter"===event.key&&(event.preventDefault(),event.stopImmediatePropagation(),okButton.click())});okButton.onclick=()=>{modalDialog.remove(),overlayLayer.remove(),window.removeEventListener("resize",centerModal),document.removeEventListener("keydown",handleEnterKey),setTimeout(()=>{document.body.classList.remove("modalActive")},300),resolve()},document.addEventListener("keydown",handleEnterKey)});