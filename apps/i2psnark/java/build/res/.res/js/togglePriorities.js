document.addEventListener("DOMContentLoaded",function(){var headerRow=document.getElementById("dirNav")?document.querySelector("#dirInfo tbody tr:first-child"):document.querySelector("#dirInfo thead tr:last-child");if((incomplete=document.querySelectorAll("#dirInfo tr.incomplete").length)&&!(incomplete<2)){document.querySelector("#dirInfo td.priority");const columns=["prihigh","priskip"];var incomplete=headerRow.cloneNode(!1),thSpacer=document.createElement("th");const thToggle=document.createElement("th");incomplete.removeAttribute("class"),incomplete.id="togglePriorities",thSpacer.setAttribute("colspan","4"),columns.forEach(function(column,index){var column="toggle-"+column,toggle=document.createElement("input"),label=document.createElement("label");toggle.type="checkbox",toggle.id=column,toggle.style.opacity="0",label.setAttribute("for",column),label.appendChild(toggle),thToggle.appendChild(label)});var style=document.createElement("style");style.textContent='#togglePriorities label{height:24px;width:50%;display:inline-block;vertical-align:middle;background:url(/i2psnark/.res/icons/clock_red.png) no-repeat 30% center/18px;cursor:pointer;mix-blend-mode:luminosity}#togglePriorities label[for="toggle-priskip"]{background:url(/i2psnark/.res/icons/block.png) no-repeat 60% center/18px}#togglePriorities label:hover{background-size:22px;mix-blend-mode:normal}',document.head.appendChild(style),incomplete.appendChild(thToggle),incomplete.insertBefore(thSpacer,thToggle),headerRow.parentNode.insertBefore(incomplete,headerRow.nextSibling),document.body.addEventListener("click",function(event){const target=event.target;if(target.matches("input[type='checkbox'][id^='toggle-']")){const column=target.id.substr(7),normalPriority=(event=document.querySelectorAll("#dirInfo ."+column),document.querySelectorAll("#dirInfo .prinorm"));let allChecked=!0;event.forEach(function(radio){radio.checked||(allChecked=!1)}),allChecked?event.forEach(function(radio){radio.checked=!1,normalPriority.forEach(function(radio){radio.checked=!0})}):event.forEach(function(radio){radio.checked=target.checked}),0===document.querySelectorAll("#dirInfo input[type=checkbox]:checked").length&&normalPriority.forEach(function(radio){radio.checked=!0}),columns.forEach(function(col,i){var otherToggle;col!==column&&(otherToggle=document.getElementById("toggle-"+col)).checked&&(otherToggle.checked=!1,document.querySelectorAll("#dirInfo ."+col))})}})}});