let isDocumentVisible=!0,listenerAdded=!1;function addListener(){listenerAdded||(document.addEventListener("visibilitychange",()=>{isDocumentVisible=!document.hidden}),listenerAdded=!0)}function onVisible(element,callback){element&&element instanceof Element&&(addListener(),new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{0<entry.intersectionRatio&&isDocumentVisible&&(callback(isDocumentVisible?element:null),observer.disconnect())})}).observe(element))}function onHidden(element,callback){element&&element instanceof Element&&(addListener(),new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{0===entry.intersectionRatio&&isDocumentVisible&&(callback(isDocumentVisible?element:null),observer.disconnect())})}).observe(element))}export{onVisible,onHidden};